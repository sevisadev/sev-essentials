<!DOCTYPE html>
<html>
<head>
  <title>Sev Essentials</title>
  <style>
    body {
      font-family: "Times New Roman", serif;
      background-color: #4b097b;
      margin: 0;
      overflow: hidden;
      color: #ffffff;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 220px;
      height: 100%;
      background-color: #8a2be2;
      color: #ffffff;
      box-sizing: border-box;
      padding-top: 0;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }

    .sidebar h1 {
      text-align: center;
      font-size: 30px;
      color: #ffffff;
      margin: 0;
      padding: 20px 10px;
      background-color: #8a2be2;
    }

    .nav-button {
      display: block;
      width: 90%;
      padding: 12px;
      background-color: #8a2be2;
      color: white;
      border: none;
      text-align: left;
      font-size: 16px;
      cursor: pointer;
      border-top-right-radius: 20px;
      border-bottom-right-radius: 20px;
      margin-bottom: 5px;
      transition: background 0.3s;
    }

    .nav-button:hover {
      background-color: #6a0dad;
    }

    .nav-button.active {
      background-color: #4b097b;
    }

    .main-content {
      margin-left: 220px;
      padding: 20px;
      transition: margin-left 0.4s ease;
    }

    h1.title {
      color: #ffffff;
    }

    #linkList {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .github-btn {
      padding: 12px;
      background-color: #8a2be2;
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 14px;
      cursor: pointer;
      text-align: center;
    }

    .github-btn:hover {
      background-color: #6a0dad;
    }

    .sidebar-launch-container {
      margin-top: auto;
      padding: 10px;
      text-align: center;
    }

    .rounded-launch-button {
      padding: 10px 20px;
      background-color: #8a2be2;
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-family: 'Times New Roman', serif;
      font-size: 16px;
      width: 90%;
    }

    .rounded-launch-button:hover {
      background-color: #6a0dad;
    }

    .sidebar-footer {
      padding: 15px 10px;
      text-align: center;
      font-size: 14px;
      color: #ffffff;
      text-decoration: underline;
      cursor: pointer;
      background-color: #8a2be2;
      display: block;
    }

    .sidebar-footer:hover {
      color: #b9b9b9;
    }

    .title-container {
      display: flex;
      align-items: baseline;
      gap: 15px;
      flex-wrap: wrap;
    }

    .subtitle {
      font-size: 14px;
      color: #dddddd;
      font-style: italic;
    }

    .ClokeName {
      padding: 12px;
      background-color: #4b097b;
      border: 1px solid #8a2be2;
      color: #ffffff;
      border-radius:4px;
    }

    #gameGenBar {
      position: fixed;
      bottom: 0;
      left: 220px;
      right: 0;
      background-color: #8a2be2;
      display: flex;
      gap: 10px;
      padding: 10px;
      align-items: center;
      justify-content: center;
      display: none;
    }

    #gamePrompt {
      flex: 1;
      padding: 8px;
      font-size: 14px;
      border: none;
      border-radius: 6px;
      background-color: #4b097b;
      color: #fff;
    }

    #generateGameBtn {
      padding: 8px 16px;
      background-color: #4b097b;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    #generateGameBtn:hover {
      background-color: #6a0dad;
    }

    #popup {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #8a2be2;
      color: white;
      padding: 15px 20px;
      border-radius: 10px;
      display: none;
      z-index: 10;
    }

    #popup button {
      margin-left: 10px;
      background: #4b097b;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 5px 10px;
      cursor: pointer;
    }

    #popup button:hover {
      background: #6a0dad;
    }
  </style>
</head>
<body>
  <canvas id="bgCanvas"></canvas>

  <div class="sidebar" id="sidebar">
    <h1>Sev Essentials</h1>
    <button class="nav-button active" onclick="switchTab('Tools', this)">Tools</button>
    <button class="nav-button" onclick="switchTab('Games', this)">Games</button>
    <button class="nav-button" onclick="switchTab('More', this)">More</button>
    <div class="sidebar-launch-container">
      <button class="rounded-launch-button" onclick="switchTab('Settings', this)">Settings</button>
      <button class="rounded-launch-button" onclick="reloadself()">Reload</button>
    </div>
    <a href="https://github.com/sevisadev/" target="_blank" class="sidebar-footer">Made By Sevvy Wevvy</a>
  </div>

  <div class="main-content" id="mainContent">
    <div class="title-container">
      <h1 class="title" id="tabTitle">Tools</h1>
      <span class="subtitle" id="tabSubtitle"></span>
    </div>
    <div id="linkList"></div>
  </div>

  <div id="gameGenBar">
    <input type="text" id="gamePrompt" placeholder="Describe your game idea...">
    <button id="generateGameBtn" onclick="generateGame()">Generate Game</button>
  </div>

  <div id="popup">
    AI-generated game is ready.
    <button onclick="openAIGame()">Open</button>
  </div>

  <script>
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    let Particals = true;
    let width = canvas.width = window.innerWidth;
    let height = canvas.height = window.innerHeight;
    const spheres = [];
    for (let i = 0; i < 50; i++) {
      spheres.push({
        x: Math.random() * (width - 220) + 220,
        y: Math.random() * (height - 50),
        radius: Math.random() * 5 + 2,
        speed: Math.random() * 2 + 0.5
      });
    }
    function animate() {
      ctx.clearRect(0, 0, width, height);
      ctx.fillStyle = 'rgba(200, 200, 200, 0.6)';
      spheres.forEach(sphere => {
        ctx.beginPath();
        ctx.arc(sphere.x, sphere.y, sphere.radius, 0, Math.PI * 2);
        ctx.fill();
        sphere.y += sphere.speed;
        if(Particals) {
          if (sphere.y > height) {
            sphere.y = -sphere.radius;
            sphere.x = Math.random() * width;
          }
        }
      });
      requestAnimationFrame(animate);
    }
    animate();
    window.addEventListener('resize', () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    });

    function reloadself() {
      fetch('https://raw.githubusercontent.com/sevisadev/sev-essentials/main/html%20holder.html')
        .then(response => {
          if (!response.ok) throw new Error("Network response was not ok");
          return response.text();
        })
        .then(html => {
          const newWindow = window.open('about:blank', '_blank');
          if (newWindow) {
            newWindow.document.write(html);
            newWindow.document.close();
            window.close();
          } else {
            alert("Pop-up blocked. Please allow pop-ups for this site.");
          }
        })
        .catch(error => {
          alert("Failed to load HTML: " + error.message);
        });
    }

    const tabLinks = {
      "Tools": [
        { name: "HTML Runner", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/tools/htmlr.html" },
        { name: "Bookmarklet Maker", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/tools/bookmarklet.html" },
        { name: "Sev Encoder", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/tools/B64.html" },
        { name: "Sev HTML One-Liner", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/tools/1l.html" },
        { name: "Sev Mode Switcher", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/tools/sms.html" },
        { name: "Sev File2HTML", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/tools/sfth.html" },
      ],
      "Games": [
        { name: "Snake Game", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/games/snake.html" },
        { name: "Tetris", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/games/tetris.html" },
        { name: "Sev Clicker", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/games/sev-clicker.html" },
        { name: "Sev Pulse", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/games/sev-pulse.html" },
        { name: "Sev's Minesweeper", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/games/sevs-minesweeper.html" },
        { name: "Sev's Connect The Pipes", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/games/connect-the-pipes.html" },
        { name: "HTML Tower Defence", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/games/html-td.html" },
        { name: "Racing", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/games/car-game.html" },
      ],
      "More": [
        { name: "Sev Browser", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/more/sev-browser.html" },
        { name: "Fireworks", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/more/fireworks.html" },
        { name: "Sev Cursor Playground", url: "https://raw.githubusercontent.com/sevisadev/sev-essentials/refs/heads/main/html/more/cursorplayground.html" },
        { name: "Github", url: "link", prox: "https://github.com/sevisadev/sev-essentials/tree/main" },
      ],
    };

    function switchTab(tabName, btn) {
      document.querySelectorAll('.nav-button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById('tabTitle').innerText = tabName;
      const subtitle = document.getElementById('tabSubtitle');
      if (tabName === "Games") { subtitle.innerText = "You may have to click on some games when they are opened for them to work"; }
      else if (tabName === "Bookmarklets") { subtitle.innerText = "Drag the bookmarklet you want into your bookmarks bar"; }
      else if (tabName === "Settings") { subtitle.innerText =  "Grayson Shults"; }
      else { subtitle.innerText =  ""; }

      const listContainer = document.getElementById('linkList');
      listContainer.innerHTML = '';

      document.getElementById('gameGenBar').style.display = tabName === "Games" ? "flex" : "none";

      if (tabName === "Settings") {
        const input1 = document.createElement('input');
        input1.type = 'github-btn';
        input1.className = 'ClokeName';
        input1.placeholder = 'Tab Name';
        listContainer.appendChild(input1);
        input1.addEventListener('input', (event) => {
          if(event.target.value === "") {
            document.title = 'Sev Essentials';
          } else {
            document.title = event.target.value;
          }
        });
      }

      (tabLinks[tabName] || []).forEach(link => {
        if (tabName === "Bookmarklets") {
          const linkElement = document.createElement('a');
          linkElement.className = 'github-btn';
          linkElement.innerText = link.name;
          linkElement.href = link.url;
          linkElement.target = '_blank';
          linkElement.onclick = (event) => {
            event.preventDefault();
          };
          linkElement.draggable = true;
          linkElement.addEventListener('dragstart', (event) => {
            event.dataTransfer.setData('text/plain', link.url);
          });
          listContainer.appendChild(linkElement);
        } else if (tabName === "EG") {
          const button = document.createElement('button');
          button.className = 'github-btn';
          button.innerText = link.name;
          button.onclick = () => proxie(link.url);
          listContainer.appendChild(button);
        } else {
          if (link.url === "prox") {
            const button = document.createElement('button');
            button.className = 'github-btn';
            button.innerText = link.name;
            button.onclick = () => proxie(link.prox, link.name);
            listContainer.appendChild(button);
          } else if (link.url === "link") {
            const button = document.createElement('button');
            button.className = 'github-btn';
            button.innerText = link.name;
            button.onclick = () => {window.open(link.prox, '_blank');};
            listContainer.appendChild(button);
          } else {
            const button = document.createElement('button');
            button.className = 'github-btn';
            button.innerText = link.name;
            button.onclick = () => openGitHubHTML(link.url);
            listContainer.appendChild(button);
          }
        }
      });
    }

    function proxie(link, name) {
      const newWindow = window.open('about:blank', '_blank');
      if (newWindow) {
        newWindow.document.write(`<head><title>${name}</title></head><style>body{font-family:"Times New Roman",serif;background-color:#4b097b;margin:0;overflow:hidden;color:#ffffff;}</style><body><div><embed src=${link} width="100%" height="100%"></div></body>`);
        newWindow.document.close();
      }
    }

    function openGitHubHTML(url) {
      fetch(url)
        .then(response => response.text())
        .then(html => {
          const newTab = window.open('about:blank', '_blank');
          newTab.document.write(html);
          newTab.document.close();
        })
        .catch(err => alert("Failed to load HTML: " + err));
    }

    function pt(but) {
      Particals = !Particals;
      if(but.innerText === 'Particals: On') {
        but.innerText = 'Particals: Off';
      } else {
        but.innerText = 'Particals: On';
      }
    }

    let aiGameCode = "";
    function generateGame() {
      const prompt = document.getElementById('gamePrompt').value.trim();
      if (!prompt) return;
      fetch("https://api.gggravity.org/meowster-ai.php", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: "prompt=" + encodeURIComponent(prompt)
      })
      .then(r => r.text())
      .then(code => {
        aiGameCode = code;
        showPopup();
      })
      .catch(e => alert("Failed to generate game: " + e));
    }

    function showPopup() {
      const popup = document.getElementById('popup');
      popup.style.display = 'block';
      setTimeout(() => { popup.style.display = 'none'; }, 15000);
    }

    function openAIGame() {
      if (!aiGameCode) return;
      const newWindow = window.open('about:blank', '_blank');
      newWindow.document.write(aiGameCode);
      newWindow.document.close();
      document.getElementById('popup').style.display = 'none';
    }

    switchTab("Tools", document.querySelector('.nav-button:nth-of-type(1)'));
  </script>
</body>
</html>
